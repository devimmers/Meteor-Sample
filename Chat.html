<head>
  <title>Chat</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="span4">{{> register}}</div>
      <div class="span8">{{> chat}}</div>
    </div>
  </div>
</body>

<template name="register">
  {{#unless signed_in}}
  <div id="register_window">
    <form id="register_form">
      <div id="warning">{{warning}}</div>
      <div class="control-group">
        <label>Username: </label>
          <div class="controls">
            <div class="input-append">
              <input type="text" id="register" placeholder="Enter Username" />
              <button id="login-btn" class="btn btn-success">Login</button>
            </div>
          </div>
      </div>
    </form>
  </div>
  {{/unless}}
</template>

<template name="chat">
	{{#if signed_in}}
		{{> users_names}}
		{{> messages}}
		{{> entry}}
	{{/if}}
</template>

<template name="entry">
	<div class="input-append">
		<input type="text" id="messageBox" placeholder="Your Message" class="span6"/>
		<button id="send-message" class="btn btn-primary">Send</button>
		<button id="clear-messages" class="btn">Clear</button>
	</div>
</template>

<template name="users_names">
    <div id="users">
      {{#each users}}
        {{name}}<br />
      {{/each}}
    </div>
</template>

<template name="messages">
	{{#each messages}}
		{{> message}}
	{{/each}}
</template>

<template name="message">
	<p>{{time}}: <strong>{{name}}:</strong>{{message}}</p>
</template>